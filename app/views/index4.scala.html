<!DOCTYPE html>

<html>
    <head>
        <title>Angular Tutorial</title>
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/main.css")">
        <link rel="shortcut icon" type="image/png" href="@routes.Assets.at("images/favicon.png")">
        <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular.min.js"></script>
        <script src="@routes.Assets.at("javascripts/controller4.js")" type="text/javascript"></script>
    </head>
    <body ng-app>

        <div ng-controller="controller">

            <p>Busca (nome): <input type="text" ng-model="busca.nome"> </p>

            <h2>Alunos</h2>
            <table id="tabela">
                <tr>
                    <th>Ação</th>
                    <th ng-click="model.ordem='nome'">Aluno</th>
                    <th ng-click="model.ordem='p_open'">Questões abertas</th>
                    <th ng-click="model.ordem='p_closed'">Questões resolvidas</th>
                    <th ng-click="model.ordem='lastsubmission'">Última submissão</th>
                </tr>
                <tr ng-repeat="aluno in model.alunos | orderBy:model.ordem | filter:busca | limitTo:10">
                    <td> <button ng-click="pop($index)">-</button> </td>
                    <td> {{aluno.nome | uppercase}} </td>
                    <td> {{aluno.p_open}} </td>
                    <td> {{aluno.p_closed}} </td>
                    <td> {{aluno.lastsubmission | date:'short'}} </td>
                </tr>
            </table>
        </div>
    </body>
</html>
